---
name: mirror-writing-brainstorm
description: 基于画像和任务分析进行多层创意发散，生成关键词云和创意火花。当用户提到"发散"、"灵感"、"头脑风暴"时使用。
allowed-tools: Read, Write, Glob
---

# 阶段3：联想重组与关键词云生成

> 运行频率：每次创作时运行，接在阶段2之后
> 输入：阶段1的创作者画像 + 阶段2的任务分析结果 + 知识库随机采样内容
> 输出：丰富的关键词云 + 创意火花列表

## 路径约定

- **会话路径**: `$SESSION_PATH`（由主协调子代理传递）
- **画像路径**: `./.mirror-writing/profile.md`（全局）
- **任务路径**: `$SESSION_PATH/task.json`
- **知识库路径**: 当前工作目录（用于L2随机采样）
- **输出路径**: `$SESSION_PATH/keywords.md`

## 执行前检查

1. 读取 `.mirror-writing/profile.md`（如存在）
2. 读取 `$SESSION_PATH/task.json`
3. 如需L2发散，从当前目录随机抽取3-5篇**不直接相关**的 txt 内容

## 发散参数

询问用户或使用默认值：
- **发散程度**: 极高/高(默认)/低
- **Serendipity强度**: 强制关联/自然关联(默认)/仅参考
- **期望关键词总数**: 50/80(默认)/30

### 发散程度说明
| 程度 | 联想半径 | 适用场景 | 示例（种子词：职场焦虑）|
|-----|---------|---------|----------------------|
| **极高** | 跨界联想 | 寻求突破、账号转型 | → 笼中鸟、西西弗斯、养殖场 |
| **高** | 合理延伸 | 日常创作 | → 35岁危机、内卷、躺平 |
| **低** | 紧扣主题 | 新手、品牌合作 | → 加班、KPI、升职 |

### Serendipity强度说明
| 强度 | 效果 | 适用场景 |
|-----|------|---------|
| **强制关联** | 必须从每篇随机内容中找到至少1个关联点 | 创意枯竭时 |
| **自然关联** | 如果能找到关联就用，找不到可忽略 | 日常创作 |
| **仅参考** | 随机内容仅作背景参考 | 保守创作 |

## 联想方法

### L1 常规联想

#### 1. 横向联想
- 同类联想: 相同领域的相关概念
- 对比联想: 相反/对立的概念
- 类比联想: 不同领域的相似概念

#### 2. 纵向联想
- 上位概念: 更抽象/更宏观的概念
- 下位概念: 更具体/更细分的概念
- 同位概念: 同一层级的平行概念

#### 3. 场景联想
- 时间维度: 过去/现在/未来场景
- 空间维度: 不同环境/场所
- 人物维度: 不同角色/身份/视角
- 事件维度: 相关事件/经历/故事

#### 4. 情感联想
- 情感延伸: 由A情感联想到B情感
- 情感对比: 正面vs负面
- 情感层次: 表层情感vs深层情感

#### 5. 创意重组
- 元素拆解: 将概念拆解为基本元素
- 元素重组: 将不同元素重新组合
- 概念嫁接: 将A领域嫁接到B领域

### L2 Serendipity联想

从知识库随机采集的"不相关"内容中寻找意外关联：

- **主题桥接**: 两个看似无关的主题有什么共同点？
- **情感共振**: 它们唤起的情感有什么相似之处？
- **受众重叠**: 可能吸引同一批人吗？
- **结构借鉴**: 它的表达方式能否用于当前主题？
- **隐喻嫁接**: 能否用它来比喻/类比当前主题？
- **反向关联**: 如果它们是对立的，这种对立本身有什么价值？
- **时空关联**: 它们可能在什么情境下同时出现？
- **因果关联**: 一个能否导致另一个？

## 输出格式

### 关键词云

#### 🎯 主题核心词 (10-15个)
[直接与主题相关的词汇]

#### 💭 情感共鸣词 (8-12个)
[能引发情感共鸣的词汇]

#### 🎬 场景画面词 (8-12个)
[具有画面感的场景词汇]

#### ✨ 金句素材词 (8-12个)
[适合构造金句的词汇/短语]

#### 💢 痛点爽点词 (8-10个)
[能戳中痛点或引发爽感的词汇]

#### 🔄 反转冲突词 (5-8个)
[具有戏剧性或冲突感的词汇]

#### 🌉 隐喻类比词 (5-8个)
[可用于类比隐喻的词汇/意象]

#### 👉 行动号召词 (5-8个)
[适合用于号召行动的词汇/句式]

#### 🎲 Serendipity关联词 (3-8个)
[从随机采样内容中发现的意外关联词汇]

### 创意火花

基于以上关键词云，生成10个具体的创意方向/选题灵感：

| 序号 | 创意方向 | 关键词组合 | 创新点 | 来源 |
|-----|---------|-----------|--------|------|
| 1 | [一句话描述] | [用到的关键词] | [创意亮点] | 常规联想 |
| 2 | ... | ... | ... | 🎲意外关联 |

### Serendipity关联解析

说明哪些创意来自随机采样内容的意外关联：

| 随机内容主题 | 关联方式 | 产生的创意 |
|-------------|---------|----------|
| [内容A的主题] | [主题桥接/情感共振等] | [对应的创意序号] |

保存到 `$SESSION_PATH/keywords.md`

## 后续衔接

阶段3的输出将用于：
1. **选题筛选**: 从创意火花中确定最终选题
2. **文案素材**: 关键词云作为写作时的词汇库
3. **结构参考**: 结合阶段1的结构范式设计内容
